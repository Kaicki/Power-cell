<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistema de Login - FilmesHub</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #000, #1a1a1a);
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }
  .box {
    background: #111;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(0,0,0,0.6);
    width: 320px;
    text-align: center;
  }
  input {
    width: 90%;
    padding: 10px;
    margin: 10px 0;
    border: none;
    border-radius: 5px;
  }
  button {
    width: 95%;
    background: #f1c40f;
    border: none;
    padding: 10px;
    border-radius: 5px;
    font-weight: bold;
    cursor: pointer;
  }
  button:hover {
    background: #ffda4f;
  }
  #painelUser, #painelAdmin, #cadastroBox {
    display: none;
  }
</style>
</head>
<body>

<!-- LOGIN -->
<div class="box" id="loginBox">
  <h2>Login 🎬</h2>
  <input type="text" id="loginUser" placeholder="Usuário">
  <input type="password" id="loginPass" placeholder="Senha">
  <button onclick="login()">Entrar</button>
  <p id="msgLogin" style="color:red;"></p>
  <p>Ainda não tem conta? <a href="#" onclick="mostrarCadastro()">Cadastre-se</a></p>
</div>

<!-- CADASTRO -->
<div class="box" id="cadastroBox">
  <h2>Criar Conta ✨</h2>
  <input type="text" id="cadUser" placeholder="Usuário">
  <input type="password" id="cadPass" placeholder="Senha">
  <button onclick="cadastrar()">Cadastrar</button>
  <p id="msgCadastro" style="color:lime;"></p>
  <p>Já tem conta? <a href="#" onclick="mostrarLogin()">Voltar</a></p>
</div>

<!-- PAINEL USUÁRIO -->
<div class="box" id="painelUser">
  <h2>Bem-vindo, <span id="nomeUser"></span> 🍿</h2>
  <p>Você está logado como usuário.</p>
  <button onclick="logout()" style="background:#e74c3c;">Sair</button>
</div>

<!-- PAINEL ADMIN -->
<div class="box" id="painelAdmin">
  <h2>Painel do Admin 👑</h2>
  <p>Bem-vindo, <span id="nomeAdmin"></span>!</p>
  <hr>
  <h3>🎥 Gerenciar Filmes</h3>
  <p>Aqui você pode adicionar links e players futuramente.</p>
  <button onclick="logout()" style="background:#e74c3c;">Sair</button>
</div>

<script>
const ADMIN_USER = "admin";
const ADMIN_PASS = "123456";

function salvarUsuarios(usuarios) {
  localStorage.setItem("usuarios", JSON.stringify(usuarios));
}

function obterUsuarios() {
  return JSON.parse(localStorage.getItem("usuarios") || "[]");
}

function cadastrar() {
  const user = document.getElementById("cadUser").value.trim();
  const pass = document.getElementById("cadPass").value.trim();
  const msg = document.getElementById("msgCadastro");

  if (!user || !pass) {
    msg.style.color = "red";
    msg.textContent = "Preencha todos os campos!";
    return;
  }

  const usuarios = obterUsuarios();

  if (usuarios.some(u => u.user === user)) {
    msg.style.color = "red";
    msg.textContent = "Usuário já existe!";
    return;
  }

  usuarios.push({ user, pass });
  salvarUsuarios(usuarios);

  msg.style.color = "lime";
  msg.textContent = "Conta criada com sucesso!";
  setTimeout(mostrarLogin, 1500);
}

function login() {
  const user = document.getElementById("loginUser").value.trim();
  const pass = document.getElementById("loginPass").value.trim();
  const msg = document.getElementById("msgLogin");

  if (user === ADMIN_USER && pass === ADMIN_PASS) {
    localStorage.setItem("logado", JSON.stringify({ tipo: "admin", nome: user }));
    mostrarPainel();
    return;
  }

  const usuarios = obterUsuarios();
  const usuario = usuarios.find(u => u.user === user && u.pass === pass);

  if (usuario) {
    localStorage.setItem("logado", JSON.stringify({ tipo: "user", nome: user }));
    mostrarPainel();
  } else {
    msg.textContent = "Usuário ou senha incorretos!";
  }
}

function mostrarPainel() {
  const loginData = JSON.parse(localStorage.getItem("logado"));

  document.getElementById("loginBox").style.display = "none";
  document.getElementById("cadastroBox").style.display = "none";

  if (loginData.tipo === "admin") {
    document.getElementById("painelAdmin").style.display = "block";
    document.getElementById("nomeAdmin").textContent = loginData.nome;
  } else {
    document.getElementById("painelUser").style.display = "block";
    document.getElementById("nomeUser").textContent = loginData.nome;
  }
}

function mostrarLogin() {
  document.getElementById("cadastroBox").style.display = "none";
  document.getElementById("loginBox").style.display = "block";
}

function mostrarCadastro() {
  document.getElementById("loginBox").style.display = "none";
  document.getElementById("cadastroBox").style.display = "block";
}

function logout() {
  localStorage.removeItem("logado");
  location.reload();
}

window.onload = () => {
  const loginData = JSON.parse(localStorage.getItem("logado"));
  if (loginData) mostrarPainel();
};
</script>

</body>
</html>
