<!doctype html>

<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CineSimples — Catálogo</title>
  <style>
    :root{ --bg:#0b0b0f; --card:#0f1720; --accent:#1f6feb; --muted:#9aa4b2; color-scheme: dark; }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(180deg,#05060a 0%, #0b0f15 100%);color:#e6eef6;min-height:100vh}
    header{display:flex;align-items:center;justify-content:space-between;padding:18px 24px;border-bottom:1px solid rgba(255,255,255,.04)}
    h1{font-size:18px;margin:0}
    .container{max-width:1100px;margin:28px auto;padding:0 20px}/* Login card */
.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,.6);}
.grid{display:grid;grid-template-columns:1fr 420px;gap:20px}

form label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
input[type=text], input[type=password], input[type=search]{width:100%;padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,.04);background:transparent;color:inherit}
button{background:var(--accent);border:none;padding:10px 12px;border-radius:8px;color:white;font-weight:600;cursor:pointer}
.muted{color:var(--muted);font-size:13px}

/* Movies */
.movies{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px;margin-top:16px}
.movie{background:var(--card);border-radius:10px;overflow:hidden;padding-bottom:8px}
.poster{height:260px;background-size:cover;background-position:center}
.movie h3{margin:10px;font-size:15px}
.movie p{margin:0 10px;font-size:13px;color:var(--muted)}

/* Top bar */
.topbar{display:flex;gap:12px;align-items:center}
.search{min-width:240px}

/* Small */
@media (max-width:880px){.grid{grid-template-columns:1fr;}.poster{height:200px}}

/* Footer */
footer{margin:36px 0;text-align:center;color:var(--muted);font-size:13px}

/* hidden class */
.hidden{display:none}

  </style>
</head>
<body>
  <header>
    <h1>CineSimples — Sem cadastro (Login manual)</h1>
    <div class="muted">Apenas login — você adiciona os usuários no código</div>
  </header>  <main class="container">
    <div class="card grid">
      <!-- Left: conteúdo protegido -->
      <section id="app-area">
        <div class="topbar">
          <div id="welcome" class="muted">Faça login para ver o catálogo</div>
          <div style="flex:1"></div>
          <input id="search" class="search" type="search" placeholder="Buscar título..." />
          <button id="logoutBtn" class="hidden">Sair</button>
        </div><div id="catalog" class="hidden">
      <div id="movies" class="movies"></div>
    </div>

    <div id="locked-help" style="margin-top:18px">
      <p class="muted">Sem login: conteúdo escondido. Faça login à direita usando um dos usuários definidos no código (veja a seção "USUÁRIOS — editar aqui" no arquivo).</p>
    </div>
  </section>

  <!-- Right: login card -->
  <aside>
    <h2 style="margin-top:0">Entrar</h2>
    <div style="height:8px"></div>
    <form id="loginForm" onsubmit="return false;">
      <label for="username">Usuário</label>
      <input id="username" type="text" autocomplete="username" required />

      <label for="password" style="margin-top:10px">Senha</label>
      <input id="password" type="password" autocomplete="current-password" required />

      <div style="height:12px"></div>
      <button id="loginBtn">Entrar</button>
      <div style="height:10px"></div>
      <div class="muted">Sem cadastro público — você adiciona cada usuário direto no código.</div>

      <hr style="margin:12px 0;border-color:rgba(255,255,255,.03)" />

      <details>
        <summary style="cursor:pointer">USUÁRIOS — editar aqui</summary>
        <p class="muted" style="margin-top:8px">Abra este arquivo e procure a variável <code>USERS</code>. Adicione/remova usuários manualmente. Formato: {username: 'nome', password: 'senha'}. Senhas em texto claro — não use em produção.</p>
      </details>
    </form>

    <!-- small note for developer -->
    <div style="margin-top:14px;font-size:13px;color:var(--muted)">
      Dica: para testar rápido use <strong>usuario1 / 1234</strong> (já incluso).
    </div>
  </aside>
</div>

<!-- hidden template for single movie card -->
<template id="movie-template">
  <article class="movie">
    <div class="poster"></div>
    <h3></h3>
    <p class="muted"></p>
  </article>
</template>

<footer>
  <div class="muted">Feito para uso local. Para produção, implemente autenticação segura com backend.</div>
</footer>

  </main>  <script>
    /***************************************************************************
     * Atenção: USUÁRIOS AQUI (edite manualmente)
     * -------------------------------------------------
     * Adicione quantos usuários quiser neste array. O site não tem cadastro
     * — apenas login checando este array estático. Formato:
     *   { username: 'nome', password: 'senha' }
     * Exemplo já incluso: usuario1 / 1234
     *
     * AVISO DE SEGURANÇA: senhas em texto claro no front-end são inseguras.
     * Use isso apenas para uso local, teste ou em ambiente controlado.
     **************************************************************************/

    const USERS = [
      { username: 'usuario1', password: '1234', displayName: 'Usuário 1' },
      // Exemplo: { username: 'kaicki', password: 'minhasenha', displayName: 'Kaicki' },
      // Adicione novos usuários abaixo, um por linha.
    ];

    // Catálogo de filmes (exemplo) — troque os dados ou adicione os seus
    const MOVIES = [
      { title: 'O Grande Filme', year: 2020, desc: 'Ação e aventura', poster: 'https://picsum.photos/seed/movie1/400/600' },
      { title: 'Noite de Mistério', year: 2019, desc: 'Suspense psicológico', poster: 'https://picsum.photos/seed/movie2/400/600' },
      { title: 'Comédia Leve', year: 2021, desc: 'Risos e diversão', poster: 'https://picsum.photos/seed/movie3/400/600' },
      { title: 'Drama Urbano', year: 2018, desc: 'História emocionante', poster: 'https://picsum.photos/seed/movie4/400/600' },
      { title: 'Animação Encantada', year: 2022, desc: 'Para todas as idades', poster: 'https://picsum.photos/seed/movie5/400/600' }
    ];

    // --------- código de interface ---------
    const loginForm = document.getElementById('loginForm');
    const loginBtn = document.getElementById('loginBtn');
    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    const welcomeEl = document.getElementById('welcome');
    const catalogEl = document.getElementById('catalog');
    const lockedHelp = document.getElementById('locked-help');
    const moviesEl = document.getElementById('movies');
    const movieTpl = document.getElementById('movie-template');
    const searchInput = document.getElementById('search');
    const logoutBtn = document.getElementById('logoutBtn');

    // Simple session using sessionStorage
    const SESSION_KEY = 'cine_user';

    function renderMovies(list){
      moviesEl.innerHTML = '';
      for(const m of list){
        const node = movieTpl.content.cloneNode(true);
        const card = node.querySelector('.movie');
        const poster = node.querySelector('.poster');
        const h = node.querySelector('h3');
        const p = node.querySelector('p');
        poster.style.backgroundImage = `url('${m.poster}')`;
        h.textContent = `${m.title} (${m.year})`;
        p.textContent = m.desc;
        moviesEl.appendChild(node);
      }
    }

    function showCatalog(user){
      welcomeEl.textContent = `Bem-vindo, ${user.displayName || user.username}`;
      catalogEl.classList.remove('hidden');
      lockedHelp.classList.add('hidden');
      logoutBtn.classList.remove('hidden');
      renderMovies(MOVIES);
    }

    function hideCatalog(){
      welcomeEl.textContent = 'Faça login para ver o catálogo';
      catalogEl.classList.add('hidden');
      lockedHelp.classList.remove('hidden');
      logoutBtn.classList.add('hidden');
      moviesEl.innerHTML = '';
    }

    function findUser(username){
      return USERS.find(u => u.username === username);
    }

    function authenticate(username, password){
      const user = findUser(username);
      if(!user) return null;
      // comparador simples
      if(String(user.password) === String(password)) return user;
      return null;
    }

    loginBtn.addEventListener('click', () => {
      const u = usernameInput.value.trim();
      const p = passwordInput.value;
      if(!u || !p){ alert('Preencha usuário e senha'); return; }
      const user = authenticate(u,p);
      if(user){
        // salva sessão
        sessionStorage.setItem(SESSION_KEY, JSON.stringify({username: user.username, displayName: user.displayName}));
        showCatalog(user);
        // limpa inputs
        passwordInput.value = '';
      } else {
        alert('Usuário ou senha inválidos');
      }
    });

    logoutBtn.addEventListener('click', () => {
      sessionStorage.removeItem(SESSION_KEY);
      hideCatalog();
    });

    // Verifica sessão ao carregar
    (function init(){
      const raw = sessionStorage.getItem(SESSION_KEY);
      if(raw){
        try{
          const s = JSON.parse(raw);
          const user = findUser(s.username);
          if(user) { showCatalog(user); }
          else { sessionStorage.removeItem(SESSION_KEY); }
        }catch(e){ sessionStorage.removeItem(SESSION_KEY); }
      }
    })();

    // Busca simples
    searchInput.addEventListener('input', (e) => {
      const q = e.target.value.trim().toLowerCase();
      const filtered = MOVIES.filter(m => m.title.toLowerCase().includes(q) || m.desc.toLowerCase().includes(q) || String(m.year).includes(q));
      if(!catalogEl.classList.contains('hidden')) renderMovies(filtered);
    });

    // Prevent enter key from reloading the page
    loginForm.addEventListener('submit', e => e.preventDefault());

    // For convenience: press Enter in password to login
    passwordInput.addEventListener('keydown', (e) => { if(e.key === 'Enter'){ loginBtn.click(); } });

  </script></body>
</html>
